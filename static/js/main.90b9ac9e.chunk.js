(this["webpackJsonpschool-diary"]=this["webpackJsonpschool-diary"]||[]).push([[0],{103:function(e,n,t){},104:function(e,n,t){},210:function(e,n,t){"use strict";t.r(n);var a,r,i,c,o,s,l,d,u,b,j,p,x,O,h,m,g,f,w,z,y,k,v=t(0),S=t.n(v),I=t(88),N=t.n(I),D=(t(103),t(104),t(43)),E=t(6),C=t(11),J=t(2),F=t(3),W=F.a.form(a||(a=Object(J.a)(["\n  padding: 48px;\n  display: flex;\n  flex-direction: column;\n  max-width: 300px;\n\n  legend {\n    font-size: 32px;\n    margin-bottom: 25px;\n  }\n  label {\n    font-weight: 800;\n  }\n  input,\n  select {\n    margin-bottom: 10px;\n  }\n"]))),U=Object(F.a)(W)(r||(r=Object(J.a)(["\n\n"]))),Z=t(25),q=F.a.button(i||(i=Object(J.a)(["\n  background-color: #5469d4;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  line-height: 28px;\n  padding: 8px 16px;\n  width: 100%;\n  min-height: 44px;\n  border-radius: 4px;\n  border: 3px transparent dashed;\n  outline-color: transparent;\n  &:hover {\n    background: #fff;\n    border-style: solid;\n    border-color: #5469d4;\n    color: rgb(84, 105, 212);\n    transition: all 0.3s ease;\n  }\n  &:focus-visible {\n    border-color: #e00;\n    color: rgb(84, 105, 212);\n    background-color: #fff;\n  }\n"]))),L=Object(F.a)(q)(c||(c=Object(J.a)(["\n"]))),_=t(1),B=function(e){return Object(_.jsx)(L,{type:"submit",children:e.children})},T=t(26),P=t(98),R=F.a.div(o||(o=Object(J.a)(['\n  padding-bottom: 24px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  input,\n  select {\n    font-size: 16px;\n    line-height: 28px;\n    padding: 8px 16px;\n    min-height: 44px;\n    border: unset;\n    border-radius: 4px;\n    box-sizing: content-box;\n    outline-color: rgb(84 105 212 / 0.5);\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px,\n      rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px,\n      rgba(60, 66, 87, 0.16) 0px 0px 0px 1px, rgba(0, 0, 0, 0) 0px 0px 0px 0px,\n      rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px;\n  }\n  input[data-light-mode="true"]:focus-visible,\n  select[data-light-mode="true"]:focus-visible {\n    outline: 2px #e00 dashed;\n    background-color: #fff;\n  }\n  input[data-light-mode="false"]:focus-visible,\n  select[data-light-mode="false"]:focus-visible {\n    outline: unset;\n    background-color: #fffc97;\n  }\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n']))),M=F.a.div(s||(s=Object(J.a)(["\n  font-size: 14px;\n  font-weight: 600;\n  display: block;\n  margin: 10px 0px;\n  color: #ff0000;\n"]))),A=F.a.label(l||(l=Object(J.a)(["\n  font-size: 14px;\n  font-weight: 600;\n  display: block;\n  margin-bottom: 10px;\n  color: #000;\n"]))),Y=function(e){var n=e.label,t=Object(P.a)(e,["label"]),a=Object(Z.c)(t),r=Object(C.a)(a,2),i=r[0],c=r[1];return Object(_.jsxs)(R,{children:[Object(_.jsx)(A,{htmlFor:t.id||t.name,children:n}),Object(_.jsx)(Z.a,Object(T.a)(Object(T.a)({as:t.as},i),t)),c.touched&&c.error?Object(_.jsx)(M,{children:c.error}):null]})},H=t(211),V=["biologia","chemia","fizyka","geografia","historia","informatyka","j.angielski","j.polski","j.niemiecki","matematyka","religia","wos"],$=V.map((function(e){return"Nauczyciel ".concat(e)})),G={UCZEN:"Ucze\u0144",NAUCZYCIEL:"Nauczyciel"},K=function(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Y,{id:"name",label:"Wpisz imi\u0119:",name:"name",type:"text",as:"input",value:e.name,placeholder:"Wpisz imi\u0119 u\u017cytkownika",required:!0}),Object(_.jsx)(Y,{id:"surname",label:"Wpisz nazwisko:",name:"surname",type:"text",as:"input",value:e.surname,placeholder:"Wpisz nazwisko u\u017cytkownika",required:!0}),Object(_.jsx)(Y,{id:"password",label:"Wpisz has\u0142o:",name:"password",type:"password",as:"input",value:e.password,placeholder:"Wpisz has\u0142o u\u017cytkownika",required:!0}),Object(_.jsxs)(Y,{id:"role",as:"select",name:"role",label:"Rola:",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Wybierz typ konta"}),Object.values(G).map((function(e){return Object(_.jsx)("option",{value:e,children:e},Object(H.a)())}))]}),e.values.role===G.NAUCZYCIEL&&Object(_.jsxs)(Y,{id:"teacherType",as:"select",name:"teacherType",label:"Typ nauczyciela",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Wybierz typ konta"}),$.map((function(e){return Object(_.jsx)("option",{value:e,children:e},Object(H.a)())}))]})]})},Q=t(18),X=Q.a().shape({name:Q.b().min(3,"Imi\u0119 powinno zawiera\u0107 przynajmniej 3 znaki"),surname:Q.b().min(3,"Nazwisko powinno zawiera\u0107 przynajmniej 3 znaki"),password:Q.b().matches(/^[0-9]+$/,"ID powinno sk\u0142ada\u0107 si\u0119 tylko z cyfr").min(6,"Has\u0142o powinno zawiera\u0107 6 znak\xf3w").max(6,"Has\u0142o powinno zawiera\u0107 6 znak\xf3w")}),ee=t(50),ne=t(9),te=t(10),ae=t(4),re=JSON.parse(localStorage.getItem("users")),ie=function e(n){var t,a=function(e){return Math.floor(Math.pow(10,e-1)+9*Math.random()*Math.pow(10,e-1))}(n);return(t=a,!1!==Boolean(re)&&re.some((function(e){return e.id===t})))?e(n):a},ce=t(46),oe=function(e,n){var t=localStorage.getItem(n)?JSON.parse(localStorage.getItem(n)):[];t.push(e),localStorage.setItem(n,JSON.stringify(t))},se="users",le="studentJournal",de=function e(n){var t;return Object(ae.a)(this,e),this.newUser=((t=n).id=ie(6),alert("Pilnie zapisz na kartce to ID, bedzie Ci potrzebne do logowania ".concat(t.id)),t),oe(this.newUser,se),this.newUser},ue=function e(n){Object(ae.a)(this,e),this.newUser=new de(n),this.newStudent=function(e){var n=V.reduce((function(e,n){return Object.assign(e,Object(ce.a)({},n,{oceny:[],srednia:null}))}),{});return Object(T.a)(Object(T.a)({},e),{},{subjects:Object(T.a)({},n)})}(this.newUser),oe(this.newStudent,le)},be=function(e){Object(ne.a)(n,e);Object(te.a)(n);function n(e){return Object(ae.a)(this,n),new de(e),Object(ee.a)(undefined)}return n}(de),je=function(){var e=Object(E.f)();return Object(_.jsx)("button",{onClick:function(){return e.goBack()},children:"Powr\xf3\u0107\xa0do strony g\u0142\xf3wnej"})},pe=function(){return Object(_.jsx)(Z.b,{initialValues:{},onSubmit:function(e){console.log("values",e),function(e){switch(e.role){case G.UCZEN:new ue(e);break;case G.NAUCZYCIEL:new be(e)}}(e)},validationSchema:X,children:function(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(je,{}),Object(_.jsxs)(U,{onReset:e.handleReset,onSubmit:e.handleSubmit,children:[Object(_.jsx)("legend",{children:"Rejestracja nowego u\u017cytkownika"}),Object(_.jsx)(K,{values:e.values}),Object(_.jsx)(B,{children:"Zarejestruj konto"})]})]})}})},xe=(t(64),t(97),function(){var e=Object(v.useState)(!0),n=Object(C.a)(e,2),t=n[0];n[1];return Object(v.useEffect)((function(){}),[]),Object(_.jsx)(_.Fragment,{children:t?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(pe,{})}):null})}),Oe=function(e,n){sessionStorage.setItem("login",JSON.stringify(e)),function(e,n){var t;switch(e.role){case G.UCZEN:t="/uczen";break;case G.NAUCZYCIEL:t="/nauczyciel"}n.push(t)}(e,n)},he=Object(F.a)(W)(d||(d=Object(J.a)(["\n\n"]))),me=function(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Y,{id:"userID",label:"Wpisz ID:",name:"userID",type:"number",as:"input",min:"0",value:e.userID,placeholder:"Wpisz ID u\u017cytkownika",required:!0}),Object(_.jsx)(Y,{id:"password",label:"Wpisz has\u0142o:",name:"password",type:"password",as:"input",value:e.password,placeholder:"Wpisz has\u0142o u\u017cytkownika",required:!0})]})},ge=F.a.legend(u||(u=Object(J.a)(["\nfont-size: 32px;\n   margin: 0; \n   padding: 20px 0;\n"]))),fe=function(){return Object(_.jsx)(ge,{children:"Panel logowania"})},we=Q.a().shape({userID:Q.b().matches(/^[0-9]+$/,"ID powinno sk\u0142ada\u0107 si\u0119 tylko z cyfr").min(6,"ID powinno zawiera\u0107 6 znak\xf3w").max(6,"ID powinno zawiera\u0107 6 znak\xf3w"),password:Q.b().min(6,"Has\u0142o powinno zawiera\u0107 minimum 6 znak\xf3w")}),ze=function(){var e=Object(E.f)();return Object(_.jsx)(Z.b,{initialValues:{},onSubmit:function(n){var t=function(e){var n=JSON.parse(localStorage.getItem(se));return!1!==!(null===n)&&function(e,n){return e.find((function(e){return e.id===n.userID&&e.password===n.password}))}(n,e)}(n),a=!!t;return console.log(n),!!a&&Oe(t,e)},validationSchema:we,children:function(e){return Object(_.jsxs)(he,{onReset:e.handleReset,onSubmit:e.handleSubmit,children:[Object(_.jsx)(fe,{}),Object(_.jsx)(me,{values:e.values}),Object(_.jsx)(B,{children:"Zaloguj si\u0119"})]})}})},ye=function(e){return Object(_.jsx)(ze,{})},ke=F.a.div(b||(b=Object(J.a)(["\n  font-size: 1.5rem;\n"]))),ve=F.a.div(j||(j=Object(J.a)(["\n color: green;\n    font-weight: 700;\n"]))),Se=F.a.button(p||(p=Object(J.a)(["\n    font-size: 1.3rem;\n    cursor: pointer;\n    display: block;\n    color: red;\n    padding: 5px;\n    margin: 1rem 0 2rem;\n    font-weight: 700;\n    border: 2px solid #000;\n"]))),Ie=function(){var e=Object(E.f)(),n=JSON.parse(sessionStorage.getItem("login"));return Object(_.jsxs)(ke,{children:["Cze\u015b\u0107 ",Object(_.jsxs)(ve,{children:[n.name," ",n.surname]}),Object(_.jsx)(Se,{onClick:function(){return function(e){e.goBack(),sessionStorage.setItem("login",null)}(e)},children:"Wyloguj"})]})},Ne=(F.a.table(x||(x=Object(J.a)(["\n\n"]))),F.a.td(O||(O=Object(J.a)(["\n    padding: 0.6rem 1rem;\n  text-align: center;\n"])))),De=F.a.td(h||(h=Object(J.a)(["\n border-right: none;\n"]))),Ee=F.a.td(m||(m=Object(J.a)(["\n  min-width: 400px;\n"]))),Ce=F.a.span(g||(g=Object(J.a)(['\n    display: inline-flex;\n    margin: 5px;\n    width: 25px;\n    height: 25px;\n    align-items: center;\n    justify-content: center;\n    &[data-grade="1"] {\n      background-color: #ff0000;\n    }\n    &[data-grade="2"] {\n      background-color: #ffa500;\n    }\n    &[data-grade="3"] {\n      background-color: #ffff00;\n    }\n    &[data-grade="4"] {\n      background-color: #adff2f;\n    }\n    &[data-grade="5"],\n    &[data-grade="6"] {\n      background-color: #008000;\n    }\n']))),Je=function(e){return Object(_.jsx)(_.Fragment,{children:e.subject.oceny.map((function(e){return Object(_.jsx)(Ce,{"data-grade":e,children:e},Object(H.a)())}))})},Fe=function(e){var n=JSON.parse(sessionStorage.getItem("login")),t=JSON.parse(localStorage.getItem(le)).find((function(e){return e.id===n.id}));return Object(_.jsxs)("table",{children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Przedmiot"}),Object(_.jsx)("th",{children:"Oceny"}),Object(_.jsx)("th",{children:"\u015arednia"})]})}),Object(_.jsx)("tbody",{children:Object.entries(t.subjects).map((function(e){return Object(_.jsxs)("tr",{children:[Object(_.jsx)(Ne,{children:e[0]}),Object(_.jsx)(Ee,{children:Object(_.jsx)(Je,{subject:e[1]})}),Object(_.jsxs)(De,{children:[" ",e[1].srednia," "]})]},Object(H.a)())}))})]})},We=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Ie,{}),Object(_.jsx)(Fe,{})]})},Ue=[1,2,3,4,5,6],Ze=F.a.form(f||(f=Object(J.a)(["\n margin: 3rem 0;\n  display: flex;\n  flex-direction: column;\n  width: max-content;\n"]))),qe=F.a.select(w||(w=Object(J.a)(["\n margin-bottom: 0.3rem;\n    padding: 0.2rem;\n    font-size: 1rem;\n"]))),Le=F.a.legend(z||(z=Object(J.a)(["\n font-size: 1.5rem;\n    margin-bottom: 0.7rem;\n"]))),_e=F.a.select(y||(y=Object(J.a)(["\n margin-bottom: 0.3rem;\n    padding: 0.2rem;\n    font-size: 1rem;\n"]))),Be=F.a.button(k||(k=Object(J.a)(["\n font-size: 1rem;\n color: rgb(2, 128, 2);\n    font-weight: 700;\n    padding: 0.6rem 0;\n    cursor: pointer;\n"]))),Te=function(){var e=Object(v.useState)(JSON.parse(localStorage.getItem(le))),n=Object(C.a)(e,2),t=n[0];return function(e){Object(v.useEffect)((function(){window.addEventListener("storage",(function(){e(JSON.parse(localStorage.getItem(le))||[])}))}),[])}(n[1]),Object(_.jsxs)(Ze,{onSubmit:function(e){!function(e,n){e.preventDefault();var t=JSON.parse(sessionStorage.getItem("login")).teacherType.split(" ")[1],a={grade:document.getElementById("adding-box__grades").value,studentID:Number(document.getElementById("adding-box__student-name").value)},r=n.find((function(e){return e.id===a.studentID}));r.subjects[t].oceny.push(parseInt(a.grade));var i=function(e,n,t,a){return e.map((function(e){if(e.id===a.studentID){var r=n.subjects[t].oceny.reduce((function(e,n){return e+n}));n.subjects[t].srednia=function(e,n,t){return(e/n.subjects[t].oceny.length).toFixed(1)}(r,n,t),e=n}return e}))}(n,r,t,a);localStorage.setItem(le,JSON.stringify(i)),(e=document.createEvent("Event")).initEvent("storage",!0,!0),window.dispatchEvent(e)}(e,t),e.target[0].selectedIndex=0},children:[Object(_.jsx)(Le,{children:"Dodawanie ocen"}),Object(_.jsxs)(qe,{id:"adding-box__student-name",defaultValue:"Wybierz ucznia",required:!0,children:[Object(_.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Wybierz ucznia"}),t.map((function(e){return Object(_.jsxs)("option",{value:"".concat(e.id),children:["".concat(e.name," ").concat(e.surname)," ","(".concat(e.id,")")]},Object(H.a)())}))]}),Object(_.jsx)(_e,{id:"adding-box__grades",children:Ue.map((function(e){return Object(_.jsx)("option",{value:e,children:e},Object(H.a)())}))}),Object(_.jsx)(Be,{children:"Dodaj ocen\u0119"})]})},Pe=function(e){var n=JSON.parse(sessionStorage.getItem("login")).teacherType.split(" ")[1],t=Object(v.useState)(JSON.parse(localStorage.getItem(le))),a=Object(C.a)(t,2),r=a[0],i=a[1];return Object(v.useEffect)((function(){window.addEventListener("storage",(function(){i(JSON.parse(localStorage.getItem(le))||[])}))}),[]),Object(_.jsxs)("table",{children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Ucze\u0144"}),Object(_.jsx)("th",{children:"Oceny"}),Object(_.jsx)("th",{children:"\u015arednia"})]})}),Object(_.jsx)("tbody",{children:r.map((function(e){return Object(_.jsxs)("tr",{children:[Object(_.jsx)(Ne,{children:"".concat(e.name," ").concat(e.surname)}),Object(_.jsx)(Ee,{children:Object(_.jsx)(Je,{subject:e.subjects[n]})}),Object(_.jsx)(De,{children:e.subjects[n].srednia})]},Object(H.a)())}))})]})},Re=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Ie,{}),Object(_.jsx)(Pe,{}),Object(_.jsx)(Te,{})]})},Me=function(){return Object(_.jsxs)(D.a,{children:[Object(_.jsx)(E.b,{path:"/admin",component:xe}),Object(_.jsx)(E.b,{path:"/uczen",component:We}),Object(_.jsx)(E.b,{path:"/nauczyciel",component:Re}),Object(_.jsx)(E.b,{exact:!0,path:"/",children:Object(_.jsx)(E.a,{to:"/home"})}),Object(_.jsx)(E.b,{exact:!0,path:"/home",component:ye})]})};var Ae=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Me,{})})},Ye=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,212)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))};N.a.render(Object(_.jsx)(S.a.StrictMode,{children:Object(_.jsx)(Ae,{})}),document.getElementById("root")),Ye()}},[[210,1,2]]]);
//# sourceMappingURL=main.90b9ac9e.chunk.js.map